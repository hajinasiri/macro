function SelectorAndResultArray(e,t,n,o,a){this.params=e,this.selector=t,this.resultArray=n,this.relative=o,this.fullParameterString=a}function fadeOn(e){var t=e.fullParameterString.split(","),n=t[0],o=t[1],a="#"+n;TweenLite.set(a,{opacity:0}),baseIdClass.defaultShowHide(n),TweenLite.to(a,o,{opacity:1})}function fadeOff(e){var t=e.fullParameterString.split(","),n=t[0],o=t[1],a="#"+n;TweenLite.to(a,o,{opacity:0,onCompleteParams:[a,n],onComplete:fadeRestore})}function fadeOpen(e){var t=e.fullParameterString.split(","),n=t[0],o=t[1],a="#vvv"+n;TweenLite.set(a,{opacity:0}),baseIdClass.defaultShow(n),TweenLite.to(a,o,{opacity:1}),a="#xxx"+n,TweenLite.to(a,o,{opacity:0,onCompleteParams:[a,n],onComplete:fadeRestore})}function fadeClose(e){var t=e.fullParameterString.split(","),n=t[0],o=t[1];baseIdClass.showXXX(n);var a="#xxx"+n;TweenLite.to(a,o,{opacity:1}),a="#vvv"+n,TweenLite.to(a,o,{opacity:0,onCompleteParams:[a,n],onComplete:fadeRestore})}function fadeRestore(e,t){TweenLite.set(e,{opacity:1}),baseIdClass.defaultShowHide(t)}function fadeDrawOpen(e){var t=e.fullParameterString.split(","),n=t[0],o=t[1];baseIdClass.defaultShow(n);var a=document.getElementById(n);$(a).hasClass("connection")?fadeDrawSSS(a,o):(fadeDrawPart(n,"vvv",o),fadeUndrawPart(n,"xxx",o))}function fadeDrawClose(e){var t=e.fullParameterString.split(","),n=t[0],o=t[1];baseIdClass.showXXX(n),fadeDrawPart(n,"xxx",o),fadeUndrawPart(n,"vvv",o)}function fadeDrawPart(e,t,n){var o=t+e,a=document.getElementById(o);null!=a&&(drawLinks(o,n,0),TweenLite.set(a.children,{opacity:0}),TweenLite.to(a.children,n,{opacity:1}))}function fadeUndrawPart(e,t,n){var o=t+e,a=document.getElementById(o);null!=a&&($(a).removeClass("hide"),$(a).addClass("lm-show"),undrawLinks(o,n,0),TweenLite.to(a.children,n,{opacity:0,onCompleteParams:[a.children,e],onComplete:fadeRestore}))}function drawLinks(e,t,n){var o="#"+e+" .connection, #"+e+" .partof";TweenLite.set(o,{opacity:1}),o="#"+e+" .connection line, #"+e+" .connection path, #"+e+" .partof line, #"+e+" .partof path",TweenLite.fromTo(o,t,{drawSVG:"0%"},{drawSVG:"100%",delay:n}),o="#"+e+" .connection polygon, #"+e+" .partof polygon",TweenLite.fromTo(o,t/8,{opacity:0},{opacity:1,delay:n+.875*t})}function undrawLinks(e,t,n){var o="#"+e+" .connection polygon, #"+e+" .partof polygon";TweenLite.set(o,{opacity:0}),o="#"+e+" .connection line, #"+e+" .connection path, #"+e+" .partof line, #"+e+" .partof path",TweenLite.fromTo(o,t,{drawSVG:"1000%"},{drawSVG:"0%",delay:n,onCompleteParams:[e],onComplete:drawRestore})}function drawRestore(e){var t="#"+e+" .connection polygon, #"+e+" .partof polygon";TweenLite.set(t,{opacity:1}),t="#"+e+" .connection line, #"+e+" .connection path, #"+e+" .partof line, #"+e+" .partof path",TweenLite.set(t,{drawSVG:"100%"})}function fadeScaleOpen(e){var t,n,o=e.fullParameterString.split(","),a=o[0],i=o[1],r=o[2];o[3]&&o[4]?(t=o[3],n=o[4]):(t=.2,n=.2),baseIdClass.defaultShow(a),fadeScaleParts(a,"vvv","xxx",i,r,t,n)}function fadeScaleClose(e){var t,n,o=e.fullParameterString.split(","),a=o[0],i=o[1],r=o[2];o[3]&&o[4]?(t=o[3],n=o[4]):(t=.2,n=.2),baseIdClass.showXXX(a),fadeScaleParts(a,"xxx","vvv",i,r,t,n)}function fadeScaleParts(e,t,n,o,a,i,r){var l,s,d,c,f="ooo"+e,m=document.getElementById(f);if("function"==typeof m.getBBox){var p=m.getBBox(),u=t+e,g=document.getElementById(u);if("function"==typeof g.getBBox){g.getBBox();var h=n+e,v=document.getElementById(h);if("function"==typeof v.getBBox){v.getBBox();for(l=0;l<g.children.length;l++)1==a?c=p.x+p.width/2+" "+(p.y+p.height/2):(f="ooo"+g.children[l].id,(d=document.getElementById(f))||(d=g.children[l]),c=(s=d.getBBox()).x+s.width/2+" "+(s.y+s.height/2)),TweenLite.set(g.children[l],{opacity:0,svgOrigin:c,scaleX:i,scaleY:r}),TweenLite.to(g.children[l],o,{opacity:1,svgOrigin:c,scaleX:1,scaleY:1});for(l=0;l<v.children.length;l++)1==a?c=p.x+p.width/2+" "+(p.y+p.height/2):(f="ooo"+v.children[l].id,(d=document.getElementById(f))||(d=v.children[l]),c=(s=d.getBBox()).x+s.width/2+" "+(s.y+s.height/2)),TweenLite.to(v.children[l],o,{opacity:0,svgOrigin:c,scaleX:i,scaleY:r,onCompleteParams:[e,v.children[l]],onComplete:scaleRestore})}else alert("Could not find valid "+n+"-group in "+e)}else alert("Could not find valid "+t+"-group in "+e)}else alert("Could not find valid ooo-group in "+e)}function scaleRestore(e,t){TweenLite.set(t,{scale:1,opacity:1}),baseIdClass.defaultShowHide(e)}function fadeDrawMoveOpen(e){var t,n,o=e.fullParameterString.split(","),a=o[0],i=o[1];o[2]&&o[3]?(t=o[2],n=o[3]):(t=1,n=1),baseIdClass.defaultShow(a),fadeMoveParts(a,"vvv","xxx",i,t,n)}function fadeDrawMoveClose(e){var t,n,o=e.fullParameterString.split(","),a=o[0],i=o[1];o[2]&&o[3]?(t=o[2],n=o[3]):(t=1,n=1),baseIdClass.showXXX(a),fadeMoveParts(a,"xxx","vvv",i,t,n)}function fadeMoveParts(e,t,n,o,a,i){var r="ooo"+e,l=document.getElementById(r);if("function"==typeof l.getBBox){var s=l.getBBox(),d=t+e,c=document.getElementById(d);if("function"==typeof c.getBBox){c.getBBox();var f=n+e,m=document.getElementById(f);if("function"==typeof m.getBBox){m.getBBox();$(m).removeClass("hide"),$(m).addClass("lm-show");var p=.5*o;drawLinks(d,p,p),undrawLinks(f,p,0);var u,g,h,v,y,w,S=s.x+s.width/2,C=s.y+s.height/2;for(u=0;u<c.children.length;u++)r="ooo"+c.children[u].id,(y=document.getElementById(r))||(y=c.children[u]),(w=$(y)).hasClass("connection")||w.hasClass("partof")||(g=(S-((v=y.getBBox()).x+v.width/2))*a,h=(C-(v.y+v.height/2))*i,TweenLite.fromTo(c.children[u],o,{x:g,y:h,opacity:0},{x:0,y:0,opacity:1}));for(u=0;u<m.children.length;u++)r="ooo"+m.children[u].id,(y=document.getElementById(r))||(y=m.children[u]),(w=$(y)).hasClass("connection")||w.hasClass("partof")||(g=(S-((v=y.getBBox()).x+v.width/2))*a,h=(C-(v.y+v.height/2))*i,TweenLite.to(m.children[u],o,{x:g,y:h,opacity:0,onCompleteParams:[m.children[u],f,m],onComplete:moveRestore}))}else alert("Could not find valid "+n+"-group in "+e)}else alert("Could not find valid "+t+"-group in "+e)}else alert("Could not find valid ooo-group in "+e)}function moveRestore(e,t,n){TweenLite.set(e,{x:0,y:0,opacity:1}),drawRestore(t),$(n).removeClass("lm-show"),$(n).addClass("hide"),""!=e.id&&baseIdClass.defaultShowHide(e.id)}function cascadeOpen(e){var t=e.fullParameterString.split(","),n=t[0],o=t[1],a=t[2];baseIdClass.openOnly(n),fadeDrawOpen(e),a-=1,selector="vvv"+n;var i=document.getElementById(selector);null!==i&&TweenLite.set(i,{delay:o,onCompleteParams:[i,o,a],onComplete:doNextOpen})}function doNextOpen(e,t,n){var o;if(n>0)for(o=0;o<e.children.length;o++)$(e.children[o]).hasClass("uno")&&cascadeOpen(new SelectorAndResultArray("","","","",String(e.children[o].id)+","+String(t)+","+String(n)))}function cascadeClose(e){var t=e.fullParameterString.split(",")[0];fadeDrawClose(e),t="ooo"+t,baseIdClass.parentCloseAllChildren(t)}function sequence(e){var t=e.fullParameterString.split(","),n=t[0],o=t[1],a=t[2];if(idiagramSvg.idGroupObject[n].defaultSetThisToOn(),0!=a){var i=document.getElementById(n),r=$(i).hasClass("highlighted");if($(i).hasClass("connection"))doStep(i,o,a,r);else{var l;for(l=0;l<i.childElementCount-1;l++)$(i.children[l]).hasClass("connection")&&doStep(i.children[l],o,a,r);for(i=document.getElementById("xxx"+n),l=0;l<i.childElementCount-1;l++)$(i.children[l]).hasClass("connection")&&doStep(i.children[l],o,a,r);for(i=document.getElementById("vvv"+n),l=0;l<i.childElementCount-1;l++)$(i.children[l]).hasClass("connection")&&doStep(i.children[l],o,a,r)}}}function doStep(e,t,n,o){idiagramSvg.idGroupObject[e.id].defaultSetThisToOn(),fadeDrawSSS(e,t);var a=idiagramSvg.getDatabase(e.id,"unoTo");if(""!=a){var i="#"+a;if(TweenLite.set(i,{opacity:0}),idiagramSvg.idGroupObject[a].defaultSetThisToOn(),o&&!$(i).hasClass("highlighted")){var r="+++&togglehlt="+a,l=idiagramSvg.getURLParameterList(r);idiagramSvg.processCommandsInURL(l)}var s=.4*t,d=t-s;n-=1,TweenLite.to(i,s,{opacity:1,delay:d,onCompleteParams:[a,t,n],onComplete:doNextSequence})}}function doNextSequence(e,t,n){sequence(new SelectorAndResultArray("","","","",e+","+String(t)+","+String(n)))}function fadeDrawSSS(e,t){if(null!=e){var n="#"+e.id+" .sss line, #"+e.id+" .sss path";TweenLite.fromTo(n,t,{drawSVG:"0%"},{drawSVG:"100%"}),n="#"+e.id+" .sss polygon",TweenLite.fromTo(n,t/8,{opacity:0},{opacity:1,delay:.875*t})}}function unsequence(e){var t=e.fullParameterString.split(","),n=t[0],o=t[1],a=t[2];if(0!=a){var i=document.getElementById(n);if($(i).hasClass("connection"))undoStep(i,o,a);else{var r;for(r=0;r<i.childElementCount-1;r++)$(i.children[r]).hasClass("connection")&&undoStep(i.children[r],o,a);for(i=document.getElementById("xxx"+n),r=0;r<i.childElementCount-1;r++)$(i.children[r]).hasClass("connection")&&undoStep(i.children[r],o,a);for(i=document.getElementById("vvv"+n),r=0;r<i.childElementCount-1;r++)$(i.children[r]).hasClass("connection")&&undoStep(i.children[r],o,a)}}}function undoStep(e,t,n){fadeUndrawSSS(e,t);var o=idiagramSvg.getDatabase(e.id,"unoFrom");if(null!=document.getElementById(o)){var a="#"+o,i=.2*t,r=t-i;(n-=1)>0&&TweenLite.to(a,i,{opacity:0,delay:r,onCompleteParams:[o,t,n],onComplete:doNextUnsequence})}}function doNextUnsequence(e,t,n){var o="#"+e;TweenLite.set(o,{opacity:1}),idiagramSvg.idGroupObject[e].defaultSetThisToOff();for(var a=document.getElementById("map-pane").getElementsByClassName("uno connection"),i=0;i<a.length;i++)idiagramSvg.getDatabase(a[i].id,"unoTo")===e&&unsequence(new SelectorAndResultArray("","","","",a[i].id+","+String(t)+","+String(n)))}function fadeUndrawSSS(e,t){if(null!=e){var n="#"+e.id+" .sss line, #"+e.id+" .sss path";TweenLite.fromTo(n,t,{drawSVG:"100%"},{drawSVG:"0%",onCompleteParams:[e.id],onComplete:restoreUndraw}),n="#"+e.id+" .sss polygon",TweenLite.fromTo(n,t/15,{opacity:1},{opacity:0})}}function restoreUndraw(e){var t="#"+e+" .sss line, #"+e+" .sss path";TweenLite.set(t,{drawSVG:"100%"}),idiagramSvg.idGroupObject[e].defaultSetThisToOff()}function stagger(e){var t,n=e.fullParameterString.split(",");for(t=0;t<n.length;t+=3)switch(n[t]){case"on":setTimeout(setUnoOn,1e3*n[t+2]*t/3,n[t+1]);break;case"off":setTimeout(setUnoOff,1e3*n[t+2]*t/3,n[t+1]);break;case"open":setTimeout(setUnoOpen,1e3*n[t+2]*t/3,n[t+1]);break;case"close":setTimeout(setUnoClose,1e3*n[t+2]*t/3,n[t+1])}$.address.parameter("stagger","")}function staggerKind(e){var t,n=e.fullParameterString.split(",");switch(n[0]){case"on":for(t=1;t<n.length;t+=2)setTimeout(setUnoOn,1e3*n[t+1]*(t-1)/2,n[t]);break;case"off":for(t=1;t<n.length;t+=2)setTimeout(setUnoOff,1e3*n[t+1]*(t-1)/2,n[t]);break;case"open":for(t=1;t<n.length;t+=2)setTimeout(setUnoOpen,1e3*n[t+1]*(t-1)/2,n[t]);break;case"close":for(t=1;t<n.length;t+=2)setTimeout(setUnoClose,1e3*n[t+1]*(t-1)/2,n[t])}$.address.parameter("staggerKind","")}function staggerOn(e){var t=e.fullParameterString.split(","),n=t[0],o=1e3*t[1];if(t[2]&&t[3])var a=t[2],i=t[3];else a=0,i=1e4;idiagramSvg.idGroupObject[n].setThisToOpenOnly(),staggerOnParts("vvv"+n,"xxx"+n,o,a,i),$.address.parameter("staggerOn","")}function staggerOff(e){var t=e.fullParameterString.split(","),n=t[0],o=1e3*t[1];if(t[2]&&t[3])var a=t[2],i=t[3];else a=0,i=1e4;idiagramSvg.idGroupObject[n].setThisToOpenOnly(),staggerOnParts("xxx"+n,"vvv"+n,o,a,i),$.address.parameter("staggerOff","")}function staggerOnParts(e,t,n,o,a){var i=document.getElementById(e);o>i.childElementCount&&(o=i.childElementCount),a>i.childElementCount?a=i.childElementCount:(o=0,a=vvv.childElementCount);var r;for(r=o;r<a;r++)$(i.children[r]).hasClass("uno")&&setTimeout(setUnoOn,n*(r-o),i.children[r].id);var l=document.getElementById(t);for(r=0;r<l.childElementCount;r++)$(l.children[r]).hasClass("uno")&&setTimeout(setUnoOff,n*(r-o),l.children[r].id)}function setUnoOn(e){idiagramSvg.idGroupObject[e].setThisToOn()}function setUnoOff(e){idiagramSvg.idGroupObject[e].setThisToOff()}function staggerOpen(e){var t=e.fullParameterString.split(","),n=t[0],o=1e3*t[1];if(t[2]&&t[3])var a=t[2],i=t[3];else a=0,i=1e4;idiagramSvg.idGroupObject[n].setThisToOpenOnly(),staggerOpenParts("vvv"+n,"xxx"+n,o,a,i),$.address.parameter("staggerOpen","")}function staggerClose(e){var t=e.fullParameterString.split(","),n=t[0],o=1e3*t[1];if(t[2]&&t[3])var a=t[2],i=t[3];else a=0,i=1e4;idiagramSvg.idGroupObject[n].setThisToOpenOnly(),staggerOpenParts("xxx"+n,"vvv"+n,o,a,i),$.address.parameter("staggerClose","")}function staggerOpenParts(e,t,n,o,a){var i=document.getElementById(e);o>i.childElementCount&&(o=i.childElementCount),a>i.childElementCount?a=i.childElementCount:(o=0,a=vvv.childElementCount);var r;for(r=o;r<a;r++)$(i.children[r]).hasClass("uno")&&setTimeout(setUnoOpen,n*(r-o),i.children[r].id);var l=document.getElementById(t);for(r=0;r<l.childElementCount;r++)$(l.children[r]).hasClass("uno")&&setTimeout(setUnolose,n*(r-o),l.children[r].id)}function setUnoOpen(e){idiagramSvg.idGroupObject[e].setThisToOn(),idiagramSvg.idGroupObject[e].setThisToOpen()}function setUnoClose(e){idiagramSvg.idGroupObject[e].setThisToClose()}function circle(e){var t=e.fullParameterString.split(","),n=t[0],o=Number(t[1]);$.address.parameter("circle","");var a=document.getElementById(n).getBBox(),i=a.width+2*o,r=a.height+2*o,l=$(".svg-pan-zoom_viewport")[0].id,s=SVG(l),d=s.ellipse(i,r);d.node.style.pointerEvents="none",d.attr({cx:a.x+a.width/2,cy:a.y+a.height/2,fill:"#FF0","fill-opacity":0,stroke:"#A00","stroke-opacity":.8,"stroke-width":3}),TweenLite.to(d.node,1.2,{delay:1.2/3,attr:{"fill-opacity":.1}}),TweenLite.fromTo(d.node,1.2,{drawSVG:"0%"},{drawSVG:"100%"}),TweenLite.to(d.node,1.2,{delay:2.4,opacity:0,onCompleteParams:[s.node],onComplete:removeDraw})}function flashCircle(e){var t=e.fullParameterString.split(","),n=t[0],o=Number(t[1]);$.address.parameter("flashCircle","");var a=document.getElementById(n).getBBox(),i=a.width+2*o,r=a.height+2*o,l=($(".svg-pan-zoom_viewport")[0].id,SVG("MapSize")),s=l.ellipse(i,r);s.node.style.pointerEvents="none",s.attr({cx:a.x+a.width/2,cy:a.y+a.height/2,fill:"#FF0","fill-opacity":.2,stroke:"#000","stroke-opacity":.8,"stroke-width":0});var d=new TimelineMax({repeat:3,repeatDelay:0});d.add(TweenLite.to(s.node,.15,{opacity:0})),d.add(TweenLite.to(s.node,.15,{opacity:1})),d.play(),TweenLite.to(s.node,1,{delay:1.9,opacity:0,onCompleteParams:[l.node],onComplete:removeDraw})}function box(e){var t=e.fullParameterString.split(","),n=t[0],o=Number(t[1]);$.address.parameter("box","");var a=document.getElementById(n).getBBox(),i=a.width+2*o,r=a.height+2*o,l=$(".svg-pan-zoom_viewport")[0].id,s=SVG(l),d=s.rect(i,r);d.radius(20),d.node.style.pointerEvents="none",d.attr({x:a.x-o,y:a.y-o,fill:"#FF0","fill-opacity":0,stroke:"#A00","stroke-opacity":.8,"stroke-width":3}),TweenLite.to(d.node,1.2,{delay:1.2/3,attr:{"fill-opacity":.1}}),TweenLite.fromTo(d.node,1.2,{drawSVG:"0%"},{drawSVG:"100%"}),TweenLite.to(d.node,1.2,{delay:2.4,opacity:0,onCompleteParams:[s.node],onComplete:removeDraw})}function removeDraw(e){e.parentElement.removeChild(e)}function openLink(e){var t=e.fullParameterString;window.open(t,"_blank"),$.address.parameter("openLink","")}var myQtipStyle={content:{title:!0,text:"The title should come from the shortDescription field in the database."},position:{my:"bottom center",at:"center center",container:$("div.map-pane"),viewport:!0,adjust:{x:0,y:-60,method:"shift shift"}},show:{event:"mouseenter",delay:90,solo:!0,effect:!1},hide:{fixed:!0,event:"mouseleave",delay:0,inactive:!1,effect:!1},style:{classes:"qtip-light qtip-rounded qtip-shadow ttTitle",width:300,height:!1,tip:{corner:!0,mimic:!1,width:10,height:1,border:!0,offset:0}}};