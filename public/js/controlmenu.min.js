function launchIntoFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function toggleHighlightAction(){if(""!=objectID){var e="+++&togglehlt="+objectID,n=idiagramSvg.getURLParameterList(e);idiagramSvg.processCommandsInURL(n)}}function unHighlightAction(){if(""!=objectID){var e=idiagramSvg.getURLParameterList("+++&unhlt=all");idiagramSvg.processCommandsInURL(e)}}function zoomToAction(){if(""!=objectID){var e="+++&gotoz="+objectID,n=idiagramSvg.getURLParameterList(e);idiagramSvg.processCommandsInURL(n)}}function zoomAllAction(){idiagramSvg.options&&idiagramSvg.options.onResetClick?idiagramSvg.options.onResetClick():idiagramSvg.onResetClick()}function openAllAction(){""!=objectID&&idiagramSvg.processCommandsAndAddToURL("openall",objectID)}function closeAllAction(){""!=objectID&&idiagramSvg.processCommandsAndAddToURL("closeall",objectID)}function editUNOAction(){if(""!=objectID){var e="+++&edit="+objectID,n=idiagramSvg.getURLParameterList(e);idiagramSvg.processCommandsInURL(n)}}var tooltipsOn=!0;!function(e){e(document).ready(function(){e("#toggleHighlight").click(function(){toggleHighlightAction()}),e("#unHighlight").click(function(){unHighlightAction()}),e("#zoomTo").click(function(){zoomToAction()}),e("#zoomAll").click(function(){zoomAllAction()}),e("#openAll").click(function(){openAllAction()}),e("#closeAll").click(function(){closeAllAction()}),e("#editUNO").click(function(){editUNOAction()}),e(".navbar").addClass("hideme"),e(function(){e(window).scroll(function(){e(this).scrollTop()>100?e(".navbar").removeClass("hideme"):e(".navbar").addClass("hideme")}),e("#btnReset").click(function(){if(void 0!==idiagramSvg.designerPrefs.defaultURL&&idiagramSvg.designerPrefs.defaultURL.length){e=idiagramSvg.getURLParameterList("+++&unhlt=all");idiagramSvg.processCommandsInURL(e);var e=idiagramSvg.getURLParameterList(idiagramSvg.designerPrefs.defaultURL);idiagramSvg.processCommandsInURL(e)}}),e("#btnIntro").click(function(){window.location.href=homeLink}),e("#btnFullscreen").click(function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?exitFullscreen():launchIntoFullscreen(document.documentElement)}),e("#helpButton").click(function(){idiagramSvg.showHelp()}),e("#btnTooltips").click(function(){1==tooltipsOn?(e("body").addClass("hideQTip"),tooltipsOn=!1):(e("body").removeClass("hideQTip"),tooltipsOn=!0)}),e("#btnPrint").click(function(){idiagramSvg.printSvg()}),e("#btnZoomIn").click(function(){idiagramSvg.zoomTiger.zoomBy(1.2)}),e("#btnZoomAll").click(function(){idiagramSvg.options&&idiagramSvg.options.onResetClick?idiagramSvg.options.onResetClick():idiagramSvg.onResetClick()}),e("#btnZoomOut").click(function(){idiagramSvg.zoomTiger.zoomBy(.833333)})})})}(jQuery),$(function(){$("#shownav").hover(function(){$(".navbar").removeClass("hideme")})});var clickedOn=!1;$(function(){$("#shownav").click(function(){0==clickedOn?clickedOn=!0:($(".navbar").addClass("hideme"),clickedOn=!1)})}),$(function(){$(".navbar").hover(function(){$(".navbar").removeClass("hideme")},function(){0==clickedOn&&$(".navbar").addClass("hideme")})});var objectID,objectLabel;!function(){"use strict";function e(e,n){var t=e.srcElement||e.target;if(t.classList.contains(n))return t;for(;t=t.parentNode;)if(t.classList&&t.classList.contains(n))return t;return!1}function n(e){var n=0,t=0;if(!e)var e=window.event;return e.pageX||e.pageY?(n=e.pageX,t=e.pageY):(e.clientX||e.clientY)&&(n=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:n,y:t}}function t(){document.addEventListener("contextmenu",function(t){d=e(t,k),s=n(t);var i=document.elementFromPoint(s.x,s.y);objectID=i.parentElement.parentElement.id,d?(t.preventDefault(),l(),r(t)):(d=null,a())})}function i(){document.addEventListener("click",function(n){var t=e(n,h);t?(n.preventDefault(),u(t)):1===(n.which||n.button)&&a()})}function o(){window.onkeyup=function(e){27===e.keyCode&&a()}}function c(){window.onresize=function(e){a()}}function l(){if(1!==I){if(null!=objectID){objectLabel=idiagramSvg.getDatabase(objectID,"label"),document.getElementById("unoLabel").innerHTML=objectLabel,document.getElementById("editUnoLabel").innerHTML=objectLabel;var e=idiagramSvg.getDatabase(objectID,"url");if(""!=e){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("target","_blank");var t=String.fromCharCode(61582)+" "+idiagramSvg.getDatabase(objectID,"urlText");n.appendChild(document.createTextNode(t)),document.getElementById("urlLink").appendChild(n)}}I=1,S.classList.add(L)}}function a(){0!==I&&(document.getElementById("urlLink").innerHTML="",I=0,S.classList.remove(L))}function r(e){s=n(e),m=s.x,g=s.y;var t=document.getElementById("story-pane"),i=t.clientWidth,o=(t=document.getElementById("info-pane")).clientWidth;m-=i,b=window.innerWidth-i-o,p=window.innerHeight,f=S.offsetWidth+6,v=S.offsetHeight+6,S.style.left=b-m<f?b-f-18+"px":m+6+"px",S.style.top=p-g<v?p-v-6+"px":g+6+"px"}function u(e){console.log("Task ID - "+d.getAttribute("data-id")+", Task action - "+e.getAttribute("data-action")),a()}var d,s,m,g,f,v,b,p,h="context-menu__link",L="context-menu--active",k="svgMap",S=document.querySelector("#context-menu"),I=(S.querySelectorAll(".context-menu__item"),0);!function(){t(),i(),o(),c()}()}();